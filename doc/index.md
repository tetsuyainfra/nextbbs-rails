# Nextbbs とは

<!--
# 一般利用者の方へ
## 書き込みの仕方
## ユーザ登録の方法
## ツール等の利用方法

# 掲示板管理者の方へ
## ユーザ登録の方法
## 掲示板の開設方法
## 掲示板の管理方法

# 掲示板設置者(サーバー管理者)の方へ
## サーバー管理者の登録方法
## ユーザ管理の方法(掲示板管理者の管理も含む)
## バッチ処理について
-->

# 開発者共へ！

## 基本事項

Nextbbs はトピック形式の掲示板の基本操作をまとめた rails 用マウンタブルエンジンです。
このエンジンをマウント後、開発者がカスタマイズして使いやすいように作成したいと考えています。

実際に運用している Rails アプリのソースは nextbbs-app になるの**予定**でそちらを参照してくれるとうれしいです。

## データモデル

Nextbbs におけるデータモデルはシンプルで掲示板、トピック、コメントを関連付けたものです。

- 掲示板モデルにはタイトル、詳細テキストのみが含まれます。
- トピックモデルにはタイトル、レス数が含まれます。
- コメントモデルには 2 ちゃんねるやしたらば掲示板で使われる表現的な名前、メールアドレス、本文、ID に加え、meta カラムが含まれます。
  ※ Rails 標準で作られるカラムが流用できるときはそのまま使っています。

## 書き込みのフローチャート

## バッチ処理

## 今後の実装予定

- Devise
- SwagerAPI
- 過去ログ化のサポート
- BBS の構造化
  - Model のテスト作成
    - Board Model
    - 改行を含むタイトルをどうするか
    - Comment Model 修正
  - コントローラーのテスト作成
    - Board
    - Topic
    - Comment
      - あぼーん
  - リファクタリング
    - Shitaraba 互換のコントローラー化 -> Nichan 互換に変更
  - 機能追加
    - 初回アクセス時の掲示板自動作成
      Form 用意しておいて、上書きできるようにするのが一番では？
    - ID 機能とか
    - キャップ機能とか
    - NG, BAN
    - 掲示板カスタマイズ
    - 掲示板番号以外でのアクセスカスタマイズ方法(username など)
  - View のカスタマイズ機能
    - ユーザ
    - アドミン
- DB インデックス最適化の考察
  - ログ整理するなら created_at の解析必要ない可能性
